<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Validasi Angka</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6 font-sans">
  <div class="max-w-3xl mx-auto bg-white shadow-lg rounded-xl p-6 space-y-4">
    <h1 class="text-2xl font-bold text-center mb-4">Validasi Angka</h1>

    <!-- Input Areas -->
    <div>
      <label class="block font-medium mb-1">Input Area 1</label>
      <textarea id="inputArea1" rows="4" class="border p-2 w-full rounded bg-gray-50" placeholder="Masukkan angka dipisahkan spasi/baris"></textarea>
    </div>
    <div>
      <label class="block font-medium mb-1">Input Area 2</label>
      <textarea id="inputArea2" rows="4" class="border p-2 w-full rounded bg-gray-50" placeholder="Masukkan angka dipisahkan spasi/baris"></textarea>
    </div>
    <div>
      <label class="block font-medium mb-1">Input Area 3 (Opsional)</label>
      <textarea id="inputArea3" rows="4" class="border p-2 w-full rounded bg-gray-50" placeholder="Masukkan angka dipisahkan spasi/baris"></textarea>
    </div>

    <!-- Validasi -->
    <div class="flex gap-2">
      <button id="btnValidasi" class="bg-blue-600 text-white px-3 py-2 rounded">Validasi</button>
      <button id="btnReset" class="bg-red-500 text-white px-3 py-2 rounded">Reset</button>
      <button id="btnSort" class="bg-gray-500 text-white px-3 py-2 rounded">Urut: Naik</button>
    </div>

    <!-- Hasil -->
    <div>
      <label class="block font-medium mb-1">Hasil Validasi</label>
      <textarea id="resultArea" rows="6" class="border p-2 w-full rounded bg-gray-50" placeholder="Hasil validasi akan muncul di sini"></textarea>
    </div>
  </div>

  <script>
    let sortAsc = true; // default urut naik

    function getSetFromArea(id) {
      return new Set(
        document.getElementById(id).value
          .split(/\s+/)
          .map(x => x.trim())
          .filter(Boolean)
      );
    }

    function sortHasil(arr) {
      return arr.sort((a, b) => sortAsc ? a.localeCompare(b) : b.localeCompare(a));
    }

    document.getElementById("btnValidasi").addEventListener("click", () => {
      const area1 = document.getElementById("inputArea1").value.trim();
      const area2 = document.getElementById("inputArea2").value.trim();
      const area3 = document.getElementById("inputArea3").value.trim();

      if (!area1 || !area2) {
        alert("Minimal isi Area 1 dan Area 2 dulu!");
        return;
      }

      const set1 = getSetFromArea("inputArea1");
      const set2 = getSetFromArea("inputArea2");
      let hasil = [...set1].filter(x => set2.has(x));

      if (area3) {
        const set3 = getSetFromArea("inputArea3");
        hasil = hasil.filter(x => set3.has(x));
      }

      const unik = [...new Set(hasil)];
      document.getElementById("resultArea").value =
        sortHasil(unik).join("\n") || "Tidak ada angka yang cocok.";
    });

    document.getElementById("btnReset").addEventListener("click", () => {
      document.getElementById("inputArea1").value = "";
      document.getElementById("inputArea2").value = "";
      document.getElementById("inputArea3").value = "";
      document.getElementById("resultArea").value = "";
    });

    document.getElementById("btnSort").addEventListener("click", () => {
      sortAsc = !sortAsc;
      document.getElementById("btnSort").textContent = sortAsc ? "Urut: Naik" : "Urut: Turun";
      document.getElementById("btnValidasi").click(); // refresh hasil
    });
  </script>
</body>
</html>
