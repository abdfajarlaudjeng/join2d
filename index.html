<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabel K-E 2D</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6 font-sans">
  <h1 class="text-2xl font-bold mb-4">Tabel K-E 2D</h1>
  <input id="search" type="text" placeholder="Cari angka..." class="mb-4 p-2 border rounded w-full">
  <table class="table-auto border-collapse border border-gray-400 w-full bg-white">
    <thead>
      <tr class="bg-gray-200">
        <th class="border border-gray-400 px-4 py-2">K-E</th>
        <th class="border border-gray-400 px-4 py-2">2D</th>
        <th class="border border-gray-400 px-4 py-2">Aksi</th>
      </tr>
    </thead>
    <tbody id="table-body"></tbody>
  </table>
  <button id="copyVisible" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded">Salin Hasil yang Terlihat</button>

  <script>
    const data = {
      0: "58*45*14*59*56*57*50*85*48*89*86*87*80*95*49*98*96*97*90*65*46*68*69*67*60*75*47*78*79*76*70*05*40*08*09*06*07*54*15*84*94*64*74*04*18*19*16*17*10*41*51*81*91*61*71*01",
      1: "65*06*90*62*61*67*68*56*05*52*51*57*58*26*02*25*21*27*28*16*01*15*12*17*18*76*07*75*72*71*78*86*08*85*82*81*87*60*96*50*20*10*70*80*95*92*91*97*98*09*69*59*29*19*79*89",
      2: "36*03*10*37*32*38*39*63*06*67*62*68*69*73*07*76*72*78*79*23*02*26*27*28*29*83*08*86*87*82*89*93*09*96*97*92*98*30*13*60*70*20*80*90*16*17*12*18*19*01*31*61*71*21*81*91",
      3: "47*14*21*48*43*40*49*74*17*78*73*70*79*84*18*87*83*80*89*34*13*37*38*30*39*04*10*07*08*03*09*94*19*97*98*93*90*41*24*71*81*31*01*91*27*28*23*20*29*12*42*72*82*32*02*92",
      4: "58*45*24*59*51*53*50*85*48*89*81*83*80*95*49*98*91*93*90*15*41*18*19*13*10*35*43*38*39*31*30*05*40*08*09*01*03*54*25*84*94*14*34*04*28*29*21*23*20*42*52*82*92*12*32*02",
      5: "90*49*34*96*91*92*95*09*40*06*01*02*05*69*46*60*61*62*65*19*41*10*16*12*15*29*42*20*26*21*25*59*45*50*56*51*52*94*39*04*64*14*24*54*30*36*31*32*35*43*93*03*63*13*23*53",
      6: "10*51*45*17*12*13*16*01*50*07*02*03*06*71*57*70*72*73*76*21*52*20*27*23*26*31*53*30*37*32*36*61*56*60*67*62*63*15*41*05*75*25*35*65*40*47*42*43*46*54*14*04*74*24*34*64",
      7: "21*52*65*28*23*24*27*12*51*18*13*14*17*82*58*81*83*84*87*32*53*31*38*34*37*42*54*41*48*43*47*72*57*71*78*73*74*25*62*15*85*35*45*75*61*68*63*64*67*56*26*16*86*36*46*76",
      8: "67*36*23*69*64*65*68*76*37*79*74*75*78*96*39*97*94*95*98*46*34*47*49*45*48*56*35*57*59*54*58*86*38*87*89*84*85*63*26*73*93*43*53*83*27*29*24*25*28*32*62*72*92*42*52*82",
      9: "34*83*78*30*35*36*39*43*84*40*45*46*49*03*80*04*05*06*09*53*85*54*50*56*59*63*86*64*60*65*69*93*89*94*90*95*96*38*73*48*08*58*68*98*74*70*75*76*79*87*37*47*07*57*67*97"
    };

    const tbody = document.getElementById('table-body');

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => alert("Disalin: " + text));
    }

    Object.entries(data).forEach(([key, value]) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td class="border border-gray-400 px-4 py-2">${key}</td>
        <td class="border border-gray-400 px-4 py-2">${value.replace(/\*/g, ' ')}</td>
        <td class="border border-gray-400 px-4 py-2 text-center">
          <button class="bg-green-500 text-white px-2 py-1 rounded">Salin</button>
        </td>
      `;
      tbody.appendChild(tr);

      const btn = tr.querySelector('button');
      btn.addEventListener('click', () => copyToClipboard(value));
    });

    document.getElementById('search').addEventListener('input', function() {
      const term = this.value.trim();
      const rows = tbody.querySelectorAll('tr');
      rows.forEach(row => {
        const text = row.children[1].textContent.replace(/\s/g, '');
        row.style.display = text.includes(term) ? '' : 'none';
      });
    });

    document.getElementById('copyVisible').addEventListener('click', () => {
      const visibleRows = [...tbody.querySelectorAll('tr')].filter(r => r.style.display !== 'none');
      let out = [];
      visibleRows.forEach(row => {
        const key = row.children[0].textContent;
        out.push(data[key]);
      });
      copyToClipboard(out.join('*'));
    });
  </script>
</body>
</html>
